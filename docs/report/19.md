# Denoばた会議 Monthly 第19回
2023年5月12日開催。  
[connpassリンク](https://deno-ja.connpass.com/event/283091/)。

## 今月のアップデートを追う
Denoのアップデートを追っていくLT。  
そのあとの雑談込みでザックリと箇条書き。

[@uki00aさんのスライド](https://uki00a.github.io/slides/denobata-2023-05-12)

### Deno v1.33
#### 静的解析可能なdynamic importで`--allow-net`/`--allow-read`が不要に
- 動的にURLが組まれているものは引き続き必要

#### `Deno.serve`について
- [h2c](https://datatracker.ietf.org/doc/html/rfc7540#section-11.1)（HTTP/2での平文通信のこと）が実装されている
- [Flash](https://github.com/denoland/deno/tree/v1.32.3/ext/flash)が削除され、[hyper v1.0のRC版](https://github.com/hyperium/hyper/releases/tag/v1.0.0-rc.3)をベースにバックエンドがリライトされている
- 次のマイナーリリース(v1.34)で安定化される計画のよう

#### `deno.json(c)`のフラット化
- 以前は`lint.files.exclude`だったものが`lint.exclude`になった
- 他の`fmt`なども同じようにフラット化した

#### `Deno.run`の非推奨化
- 今後は`Deno.Command`の使用が推奨されている

### deno_stdのアップデート
#### 非推奨化されたファイルの削除
|削除されたファイル|移行先|
|:---:|:---:|
|`std/encoding/front_matter/*`|[std/front_matter/mod.ts](https://deno.land/std@0.184.0/front_matter/mod.ts)|
|`std/encoding/jsonc.ts`|[std/jsonc/mod.ts](https://deno.land/std@0.184.0/jsonc/mod.ts)|
|`std/encoding/toml.ts`|[std/toml/mod.ts](https://deno.land/std@0.184.0/toml/mod.ts)|
|`std/encoding/yaml.ts`|[std/yaml/mod.ts](https://deno.land/std@0.184.0/yaml/mod.ts)|
|`std/encoding/csv.ts`|[std/csv/mod.ts](https://deno.land/std@0.184.0/csv/mod.ts)|
|`std/encoding/csv/*`|[std/csv/mod.ts](https://deno.land/std@0.184.0/csv/mod.ts)|
|`std/encoding/json/stream.ts`|[std/json/mod.ts](https://deno.land/std@0.184.0/json/mod.ts)|

#### `std/fs`の`exists`の非推奨化が解除

### その他の話題
#### Deno v2.0について
- 今年の夏頃にリリースが計画されているよう
- [Node Congress 2023のRyanさんの登壇](https://youtu.be/LVEGRj3RZSA)で語られた

#### [Deno KV](https://deno.com/kv)
- Deno v1.32で実装されたDeno KVが正式発表された
- [ayame113さんの記事](https://qiita.com/access3151fq/items/ee1cf3e5fc35150dd910)でも解説されている

## 質問共有コーナー

## 参考資料
上記をまとめる際に眺め、かつ箇条書きの中に含められなかった資料です。  
名前だけ掠ってて関係ない資料もあるかと思いますが、まとめる作業の可視化として残しています。  
読まなくて大丈夫です。

- [HTTP/2? h2? h2c? って何? - 隙あらば寝る](https://yoru9zine.hatenablog.com/entry/2016/12/04/174222)
- [HTTP/2: ちょっと詳細: プロトコルネゴシエーション編 - Qiita](https://qiita.com/nozmiz/items/3bf03533895251c93af2)
- [RFC 7540 - Hypertext Transfer Protocol Version 2 (HTTP/2)](https://datatracker.ietf.org/doc/html/rfc7540)
- [Time of check to time of use - Wikipedia](https://ja.wikipedia.org/wiki/Time_of_check_to_time_of_use)
