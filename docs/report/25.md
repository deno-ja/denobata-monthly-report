# Denoばた会議 Monthly 第25回
2024年1月5日開催。  
[connpassリンク](https://deno-ja.connpass.com/event/306099/)。

## 今月のアップデートを追う
Denoのアップデートを追っていくLT。  
そのあとの雑談込みでザックリと箇条書き。

[@uki00aさんのスライド](https://uki00a.github.io/slides/denobata-2024-01-05)

### [Deno v1.39](https://deno.com/blog/v1.39)
#### WebGPU APIの再導入
- Deno v1.32で削除されたWebGPU APIがunstable APIとして再導入された
- `{ "unstable": ["webgpu"] }`を`deno.json(c)`に設定することで利用できる
- これに合わせて[std/webgpu](https://deno.land/std@0.210.0/webgpu/mod.ts)も追加されている

#### `deno coverage`のレポート形式
- [Istanbul](https://istanbul.js.org)のような形式でサマリーレポートが表示される
- HTML形式でレポートを出力でき、こちらもIstanbulのような形式

#### `deno compile`で[BYONM](https://github.com/denoland/deno/issues/18967)がサポート
- npmでインストールされた依存関係を使ってモジュール解決を行なう
- `deno compile --unstable-byonm`という形で認可する

#### sloppy imports(`--unstable-sloppy-imports`)
- sloppy importsを有効化すると、拡張子なしやディレクトリを指定したimportといったNode.jsのような記述ができる

### deno_stdのアップデート
#### `std/expect`
- Jest互換な`expect()`APIが提供されている

#### `std/cli`
コマンドライン引数の解析やスピナーなどのCLI関連のユーティリティなどが提供される

### fresh v1.6
#### Tailwind CSSが公式でサポート
- 大まかな手順
  - deno.json(c)でTailwind CSSのnpmモジュールをマッピング
  - 設定ファイルやstyle.cssなど通常のTailwind CSSと同じ工程で設定
  - Tailwind CSSプラグインを設定

#### [FreshContext](https://deno.land/x/fresh@1.6.0/server.ts?s=FreshContext)の導入
- `Handler`や`MiddlewareHandler`などの`ctx`引数に渡される型が`FreshContext`に変更されている
- 合わせて、以下の各型も`FreshContext`をベースに再定義されている
  - `HandlerContext` / `MiddlewareHandlerContext`
  - `RouteContext`
  - `AppContext` / `LayoutContext`
  - `UnknownHandlerContext` / `ErrorHandlerContext`
  - `RouteContext`以外は非推奨化されている

#### プラグインからのIslandコンポーネントの提供がサポート

#### `_fresh/static`のサポート
- `_fresh/static`に置かれたファイルは`static/`ディレクトリに置かれたファイルよりも優先して配信される
- Tailwind CSSプラグインは、事前ビルド(`deno task build`)の実行時に`_fresh/static`へビルド後のCSSファイルを出力される

## 質問共有コーナー

## 参考資料
上記をまとめる際に眺め、かつ箇条書きの中に含められなかった資料です。  
名前だけ掠ってて関係ない資料もあるかと思いますが、まとめる作業の可視化として残しています。  
読まなくて大丈夫です。

- [kt3k: "久々に Deno に割と大きめの機能を実装した。..." / #times-kt3k](https://times.kt3k.org/202312d)
